---
/**
 * ============================================================================
 * FEATURE9 - Asymmetric Image Gallery Layout
 * ============================================================================
 *
 * A feature section with text content on left and asymmetric image gallery
 * layout with 4 images of varying sizes.
 *
 * FEATURES:
 * - Headline, description, and CTA button on left
 * - Asymmetric bento-box style image layout
 * - 4 images: 1 large top-right, 3 varying sizes on bottom (small, large, medium)
 * - All images with rounded corners
 * - Mobile-first responsive design (stacks on mobile)
 * - Full dark mode support
 * - Accessibility optimized
 *
 * USAGE:
 * <Feature9
 *   headline="Your headline"
 *   description="Description text"
 *   additionalText="Additional paragraph"
 *   ctaText="Button text"
 *   ctaLink="#"
 *   imageMain="https://..."
 *   imageSmall="https://..."
 *   imageLarge="https://..."
 *   imageMedium="https://..."
 * />
 *
 * NOTE: This component has no background. Use on pages with dark gradient backgrounds.
 * ============================================================================
 */

import Image from '~/components/common/Image.astro';
import Button from '~/components/ui/Button.astro';
import { HEADLINE_CLASSES, SUBTITLE_CLASSES, TEXT_MUTED } from '~/config/theme';
import type { ImageMetadata } from 'astro';

export const metadata = {
  name: 'Feature9',
  path: 'src/components/sections/Feature9.astro',
  description:
    'Feature section with text content on left and asymmetric bento-box image gallery on right.',
};

export { SECTION_BACKGROUND as background } from '~/config/theme';

interface Props {
  /** Main headline text */
  headline: string;
  /** Description text below headline */
  description: string;
  /** Additional paragraph text */
  additionalText?: string;
  /** CTA button text */
  ctaText?: string;
  /** CTA button URL */
  ctaLink?: string;
  /** Main large image (top right) */
  imageMain: string | ImageMetadata;
  /** Small image (bottom left) */
  imageSmall: string | ImageMetadata;
  /** Large image (bottom center) */
  imageLarge: string | ImageMetadata;
  /** Medium image (bottom right) */
  imageMedium: string | ImageMetadata;
}

const defaultProps: Props = {
  headline: 'Our people',
  description:
    'Quasi est quaerat. Sit molestiae et. Provident ad dolorem occaecati eos iste. Soluta rerum quidem minus ut molestiae velit error quod. Excepturi quidem expedita molestias quas.',
  additionalText:
    'Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem cupidatat commodo. Elit sunt amet fugiat veniam occaecat fugiat. Quasi aperiam sit non sit neque reprehenderit.',
  ctaText: 'Join our team',
  ctaLink: '#',
  imageMain:
    'https://images.unsplash.com/photo-1654339222512-e8e8d4eed552?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8ZmVhdHVyZXN8ZW58MHx8MHx8fDA%3D',
  imageSmall:
    'https://images.unsplash.com/photo-1654339297391-e2f4c8b850f3?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fGZlYXR1cmVzfGVufDB8fDB8fHww',
  imageLarge:
    'https://images.unsplash.com/photo-1682957311875-e37cb0d587f5?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fGZlYXR1cmVzfGVufDB8fDB8fHww',
  imageMedium:
    'https://plus.unsplash.com/premium_photo-1661963433067-4a65227d83d5?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mjh8fGZlYXR1cmVzfGVufDB8fDB8fHww',
};

const {
  headline,
  description,
  additionalText,
  ctaText,
  ctaLink,
  imageMain,
  imageSmall,
  imageLarge,
  imageMedium,
} = { ...defaultProps, ...Astro.props };
---

<section class="relative w-full overflow-hidden py-16 sm:py-20 lg:py-24">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12">
      <!-- Left: Text Content -->
      <div class="space-y-8 lg:pr-8">
        <!-- Headline -->
        <h2 class={HEADLINE_CLASSES}>
          {headline}
        </h2>

        <!-- Description -->
        <p class={`${SUBTITLE_CLASSES} ${TEXT_MUTED}`}>
          {description}
        </p>

        <!-- Additional text -->
        {additionalText && (
          <p class={`${SUBTITLE_CLASSES} ${TEXT_MUTED}`}>
            {additionalText}
          </p>
        )}

        <!-- CTA Button -->
        {ctaText && ctaLink && (
          <div class="pt-2">
            <Button variant="primary" href={ctaLink}>
              {ctaText}
            </Button>
          </div>
        )}
      </div>

      <!-- Right: Asymmetric Image Gallery -->
      <div class="space-y-4 sm:space-y-6">
        <!-- Top: Main large image (landscape) -->
        <div class="w-full">
          <Image
            src={imageMain}
            alt="Team members collaborating"
            class="w-full h-56 sm:h-72 lg:h-80 object-cover rounded-2xl shadow-xl shadow-slate-900/50"
            width={1200}
            height={700}
            widths={[640, 768, 1024, 1200]}
            sizes="(max-width: 1024px) 100vw, 50vw"
            loading="lazy"
          />
        </div>

        <!-- Bottom: 3 images with truly varying sizes -->
        <div class="grid grid-cols-12 gap-4 sm:gap-6">
          <!-- Small image - bottom left (shortest) -->
          <div class="col-span-4">
            <Image
              src={imageSmall}
              alt="Team activity"
              class="w-full h-32 sm:h-40 lg:h-48 object-cover rounded-2xl shadow-xl shadow-slate-900/50"
              width={600}
              height={800}
              widths={[320, 480, 600]}
              sizes="(max-width: 1024px) 33vw, 20vw"
              loading="lazy"
            />
          </div>

          <!-- Large image - bottom center (tallest) -->
          <div class="col-span-5">
            <Image
              src={imageLarge}
              alt="Team meeting"
              class="w-full h-48 sm:h-64 lg:h-80 object-cover rounded-2xl shadow-xl shadow-slate-900/50"
              width={800}
              height={1200}
              widths={[480, 640, 800]}
              sizes="(max-width: 1024px) 42vw, 25vw"
              loading="lazy"
            />
          </div>

          <!-- Medium image - bottom right (medium height) -->
          <div class="col-span-3">
            <Image
              src={imageMedium}
              alt="Team building"
              class="w-full h-40 sm:h-52 lg:h-64 object-cover rounded-2xl shadow-xl shadow-slate-900/50"
              width={500}
              height={900}
              widths={[320, 480, 500]}
              sizes="(max-width: 1024px) 25vw, 15vw"
              loading="lazy"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
