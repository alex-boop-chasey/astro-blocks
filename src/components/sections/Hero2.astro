---
/**
 * ============================================================================
 * HERO2 - Full-Width Hero Section with Background Image
 * ============================================================================
 *
 * A centered hero section with background image, announcement pill, large
 * headline, subtitle, and dual CTA buttons.
 *
 * FEATURES:
 * - Full-width background image with dark overlay
 * - Optional announcement pill with link and arrow
 * - Large responsive headline (4xl â†’ 7xl)
 * - Subtitle text with max-width constraint
 * - Primary CTA button (indigo, filled)
 * - Secondary CTA button (transparent, with arrow)
 * - Mobile-first responsive design
 * - Full dark mode support
 * - Accessibility optimized (ARIA labels, focus states)
 *
 * USAGE:
 * <Hero2
 *   backgroundImage="https://images.unsplash.com/..."
 *   announcementText="Optional announcement"
 *   announcementLink="#"
 *   headline="Your headline here"
 *   subtitle="Your subtitle text here"
 *   primaryButtonText="Get started"
 *   secondaryButtonText="Learn more"
 * />
 *
 * NOTE: Background image will have a dark overlay for text readability.
 * ============================================================================
 */

import Image from '~/components/common/Image.astro';
import Button from '~/components/ui/Button.astro';
import type { ImageMetadata } from 'astro';

export const metadata = {
  name: 'Hero2',
  path: 'src/components/sections/Hero2.astro',
  description:
    'Full-width hero section with background image overlay, announcement pill, headline, subtitle, and dual CTA buttons. Same structure as Hero1 but with background image.',
};

export { SECTION_BACKGROUND as background } from '~/config/theme';

interface Props {
  /** Background image URL or ImageMetadata */
  backgroundImage?: string | ImageMetadata;
  /** Announcement text shown in pill at top */
  announcementText?: string;
  /** Announcement link URL */
  announcementLink?: string;
  /** Announcement link text (defaults to "Read more") */
  announcementLinkText?: string;
  /** Main headline text */
  headline: string;
  /** Subtitle/description text */
  subtitle: string;
  /** Primary CTA button text */
  primaryButtonText?: string;
  /** Primary CTA button URL */
  primaryButtonLink?: string;
  /** Secondary CTA button text */
  secondaryButtonText?: string;
  /** Secondary CTA button URL */
  secondaryButtonLink?: string;
}

const defaultProps: Props = {
  backgroundImage:
    'https://images.unsplash.com/photo-1517048676732-d65bc937f952?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8bWVldGluZ3xlbnwwfHwwfHx8MA%3D%3D',
  announcementText: 'Announcing our next round of funding.',
  announcementLink: '#',
  announcementLinkText: 'Read more',
  headline: 'Data to enrich your online business',
  subtitle:
    'Anim qute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem cupidatat commodo. Elit sunt amet fugiat veniam occaecat.',
  primaryButtonText: 'Get started',
  primaryButtonLink: '#',
  secondaryButtonText: 'Learn more',
  secondaryButtonLink: '#',
};

const {
  backgroundImage,
  announcementText,
  announcementLink = '#',
  announcementLinkText = 'Read more',
  headline,
  subtitle,
  primaryButtonText = 'Get started',
  primaryButtonLink = '#',
  secondaryButtonText = 'Learn more',
  secondaryButtonLink = '#',
} = { ...defaultProps, ...Astro.props };
---

<section class="relative w-full min-h-screen flex items-center justify-center overflow-hidden">

  <!-- Background Image -->
  {backgroundImage && (
    <div class="absolute inset-0 z-0">
      <Image
        src={backgroundImage}
        alt=""
        width={2830}
        height={1600}
        widths={[640, 1024, 1920, 2830]}
        sizes="100vw"
        loading="eager"
        class="w-full h-full object-cover"
      />
      <!-- Dark overlay for text readability -->
      <div class="absolute inset-0 bg-gray-900/[0.68]" aria-hidden="true"></div>
    </div>
  )}

  <!-- Content container -->
  <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 sm:py-24 lg:py-32">
    <div class="text-center space-y-8 sm:space-y-10">

      <!-- Announcement Pill -->
      {announcementText && (
        <div class="flex justify-center animate-fade-in">
          <div class="announcement-pill">
            <span class="announcement-pill-text">
              {announcementText}
            </span>
            <a
              href={announcementLink}
              class="announcement-pill-link"
              aria-label={`${announcementLinkText} about ${announcementText}`}
            >
              {announcementLinkText}
              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </a>
          </div>
        </div>
      )}

      <!-- Headline -->
      <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white tracking-tight leading-tight max-w-5xl mx-auto px-4">
        {headline}
      </h1>

      <!-- Subtitle -->
      <p class="text-base sm:text-lg md:text-xl text-gray-300 dark:text-gray-400 max-w-3xl mx-auto leading-relaxed px-4">
        {subtitle}
      </p>

      <!-- CTA Buttons -->
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4 pt-2 sm:pt-4">
        <!-- Primary Button -->
        <Button variant="primary" href={primaryButtonLink} class="w-full sm:w-auto">
          {primaryButtonText}
        </Button>

        <!-- Secondary Button -->
        <Button variant="secondary" href={secondaryButtonLink} showArrow={true} class="w-full sm:w-auto">
          {secondaryButtonText}
        </Button>
      </div>

    </div>
  </div>
</section>
