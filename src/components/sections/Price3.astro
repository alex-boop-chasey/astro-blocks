---
/**
 * ============================================================================
 * PRICE3 - Three-Column Pricing Section (Starter/Growth/Scale)
 * ============================================================================
 *
 * A pricing section with 3 side-by-side pricing cards showing tiered features.
 *
 * FEATURES:
 * - Headline and description (no tagline)
 * - 3-column pricing card layout
 * - Each card has: plan name, description, price, CTA button, feature list
 * - Features can be marked as included (true) or not included (false/grayed out)
 * - Mobile-first responsive design (stacks on mobile)
 * - Full dark mode support
 * - Accessibility optimized
 *
 * USAGE:
 * <Price3
 *   headline="Pricing that grows with your team size"
 *   description="..."
 *   plan1Name="Starter"
 *   plan1Description="Everything you need to get started."
 *   plan1Price="19"
 *   plan1ButtonText="Start a free trial"
 *   plan1ButtonLink="#"
 *   plan1Features={[
 *     {name: "Custom domains", included: true},
 *     {name: "Edge content delivery", included: true},
 *     {name: "Advanced analytics", included: true},
 *     {name: "Quarterly workshops", included: false},
 *     {name: "Single sign-on (SSO)", included: false},
 *     {name: "Priority phone support", included: false}
 *   ]}
 *   ...
 * />
 * ============================================================================
 */

export const metadata = {
  name: 'Price3',
  path: 'src/components/sections/Price3.astro',
  description: 'Three-column pricing section with tiered features (Starter/Growth/Scale).',
};

export { SECTION_BACKGROUND as background } from '~/config/theme';

interface Feature {
  name: string;
  included: boolean;
}

interface Props {
  /** Main headline text */
  headline: string;
  /** Description below headline */
  description?: string;
  /** Plan 1 name */
  plan1Name: string;
  /** Plan 1 description */
  plan1Description: string;
  /** Plan 1 price (number only, no $ or USD) */
  plan1Price: string;
  /** Plan 1 button text */
  plan1ButtonText: string;
  /** Plan 1 button link */
  plan1ButtonLink: string;
  /** Plan 1 feature list with included status */
  plan1Features: Feature[];
  /** Plan 2 name */
  plan2Name: string;
  /** Plan 2 description */
  plan2Description: string;
  /** Plan 2 price (number only, no $ or USD) */
  plan2Price: string;
  /** Plan 2 button text */
  plan2ButtonText: string;
  /** Plan 2 button link */
  plan2ButtonLink: string;
  /** Plan 2 feature list with included status */
  plan2Features: Feature[];
  /** Plan 3 name */
  plan3Name: string;
  /** Plan 3 description */
  plan3Description: string;
  /** Plan 3 price (number only, no $ or USD) */
  plan3Price: string;
  /** Plan 3 button text */
  plan3ButtonText: string;
  /** Plan 3 button link */
  plan3ButtonLink: string;
  /** Plan 3 feature list with included status */
  plan3Features: Feature[];
}

const defaultProps: Props = {
  headline: 'Pricing that grows with your team size',
  description:
    "Choose an affordable plan that's packed with the best features for engaging your audience, creating customer loyalty, and driving sales.",
  plan1Name: 'Starter',
  plan1Description: 'Everything you need to get started.',
  plan1Price: '19',
  plan1ButtonText: 'Start a free trial',
  plan1ButtonLink: '#',
  plan1Features: [
    { name: 'Custom domains', included: true },
    { name: 'Edge content delivery', included: true },
    { name: 'Advanced analytics', included: true },
    { name: 'Quarterly workshops', included: false },
    { name: 'Single sign-on (SSO)', included: false },
    { name: 'Priority phone support', included: false },
  ],
  plan2Name: 'Growth',
  plan2Description: 'All the extras for your growing team.',
  plan2Price: '49',
  plan2ButtonText: 'Start a free trial',
  plan2ButtonLink: '#',
  plan2Features: [
    { name: 'Custom domains', included: true },
    { name: 'Edge content delivery', included: true },
    { name: 'Advanced analytics', included: true },
    { name: 'Quarterly workshops', included: true },
    { name: 'Single sign-on (SSO)', included: false },
    { name: 'Priority phone support', included: false },
  ],
  plan3Name: 'Scale',
  plan3Description: 'Added flexibility at scale.',
  plan3Price: '99',
  plan3ButtonText: 'Start a free trial',
  plan3ButtonLink: '#',
  plan3Features: [
    { name: 'Custom domains', included: true },
    { name: 'Edge content delivery', included: true },
    { name: 'Advanced analytics', included: true },
    { name: 'Quarterly workshops', included: true },
    { name: 'Single sign-on (SSO)', included: true },
    { name: 'Priority phone support', included: true },
  ],
};

const {
  headline,
  description,
  plan1Name,
  plan1Description,
  plan1Price,
  plan1ButtonText,
  plan1ButtonLink,
  plan1Features,
  plan2Name,
  plan2Description,
  plan2Price,
  plan2ButtonText,
  plan2ButtonLink,
  plan2Features,
  plan3Name,
  plan3Description,
  plan3Price,
  plan3ButtonText,
  plan3ButtonLink,
  plan3Features,
} = { ...defaultProps, ...Astro.props };
---

<section class="bg-gray-900 py-24 sm:py-32">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <!-- Header -->
    <div class="mx-auto max-w-4xl text-center space-y-4">
      <h2 class="text-4xl font-bold tracking-tight text-white sm:text-5xl lg:text-6xl">
        {headline}
      </h2>
      {description && (
        <p class="mt-6 text-lg leading-8 text-gray-400">
          {description}
        </p>
      )}
    </div>

    <!-- Pricing Cards -->
    <div class="mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-8 lg:max-w-none lg:grid-cols-3">

      <!-- Plan 1: Starter -->
      <div class="flex flex-col justify-between rounded-3xl bg-gray-800/50 p-8 ring-1 ring-white/10 backdrop-blur-sm xl:p-10">
        <div>
          <h3 class="text-lg font-semibold leading-8 text-indigo-400">{plan1Name}</h3>
          <p class="mt-4 text-sm leading-6 text-gray-300">{plan1Description}</p>
          <p class="mt-6 flex items-baseline gap-x-2">
            <span class="text-5xl font-bold tracking-tight text-white">${plan1Price}</span>
            <span class="text-sm font-semibold leading-6 text-gray-400">USD per month</span>
          </p>
          <a
            href={plan1ButtonLink}
            class="mt-6 block rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-base font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 transition-colors"
          >
            {plan1ButtonText}
          </a>
          <p class="mt-8 text-sm font-semibold text-gray-300">Start selling with:</p>
          <ul role="list" class="mt-6 space-y-3 text-sm leading-6">
            {plan1Features.map((feature) => (
              <li class={`flex gap-x-3 ${feature.included ? 'text-gray-300' : 'text-gray-500'}`}>
                <svg class={`h-6 w-5 flex-none ${feature.included ? 'text-indigo-400' : 'text-gray-600'}`} viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                  <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
                </svg>
                {feature.name}
              </li>
            ))}
          </ul>
        </div>
      </div>

      <!-- Plan 2: Growth -->
      <div class="flex flex-col justify-between rounded-3xl bg-gray-800/50 p-8 ring-1 ring-white/10 backdrop-blur-sm xl:p-10">
        <div>
          <h3 class="text-lg font-semibold leading-8 text-indigo-400">{plan2Name}</h3>
          <p class="mt-4 text-sm leading-6 text-gray-300">{plan2Description}</p>
          <p class="mt-6 flex items-baseline gap-x-2">
            <span class="text-5xl font-bold tracking-tight text-white">${plan2Price}</span>
            <span class="text-sm font-semibold leading-6 text-gray-400">USD per month</span>
          </p>
          <a
            href={plan2ButtonLink}
            class="mt-6 block rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-base font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 transition-colors"
          >
            {plan2ButtonText}
          </a>
          <p class="mt-8 text-sm font-semibold text-gray-300">Start selling with:</p>
          <ul role="list" class="mt-6 space-y-3 text-sm leading-6">
            {plan2Features.map((feature) => (
              <li class={`flex gap-x-3 ${feature.included ? 'text-gray-300' : 'text-gray-500'}`}>
                <svg class={`h-6 w-5 flex-none ${feature.included ? 'text-indigo-400' : 'text-gray-600'}`} viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                  <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
                </svg>
                {feature.name}
              </li>
            ))}
          </ul>
        </div>
      </div>

      <!-- Plan 3: Scale -->
      <div class="flex flex-col justify-between rounded-3xl bg-gray-800/50 p-8 ring-1 ring-white/10 backdrop-blur-sm xl:p-10">
        <div>
          <h3 class="text-lg font-semibold leading-8 text-indigo-400">{plan3Name}</h3>
          <p class="mt-4 text-sm leading-6 text-gray-300">{plan3Description}</p>
          <p class="mt-6 flex items-baseline gap-x-2">
            <span class="text-5xl font-bold tracking-tight text-white">${plan3Price}</span>
            <span class="text-sm font-semibold leading-6 text-gray-400">USD per month</span>
          </p>
          <a
            href={plan3ButtonLink}
            class="mt-6 block rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-base font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 transition-colors"
          >
            {plan3ButtonText}
          </a>
          <p class="mt-8 text-sm font-semibold text-gray-300">Start selling with:</p>
          <ul role="list" class="mt-6 space-y-3 text-sm leading-6">
            {plan3Features.map((feature) => (
              <li class={`flex gap-x-3 ${feature.included ? 'text-gray-300' : 'text-gray-500'}`}>
                <svg class={`h-6 w-5 flex-none ${feature.included ? 'text-indigo-400' : 'text-gray-600'}`} viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                  <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
                </svg>
                {feature.name}
              </li>
            ))}
          </ul>
        </div>
      </div>

    </div>
  </div>
</section>
