---
/**
 * ============================================================================
 * HERO2 - Full-Width Hero Section with Background Image
 * ============================================================================
 *
 * A centered hero section with background image, announcement pill, large
 * headline, subtitle, and dual CTA buttons.
 *
 * FEATURES:
 * - Full-width background image with dark overlay
 * - Optional announcement pill with link and arrow
 * - Large responsive headline (4xl ‚Üí 7xl)
 * - Subtitle text with max-width constraint
 * - Primary CTA button (indigo, filled)
 * - Secondary CTA button (transparent, with arrow)
 * - Mobile-first responsive design
 * - Full dark mode support
 * - Accessibility optimized (ARIA labels, focus states)
 *
 * USAGE:
 * <Hero2
 *   backgroundImage="https://images.unsplash.com/..."
 *   announcementText="Optional announcement"
 *   announcementLink="#"
 *   headline="Your headline here"
 *   subtitle="Your subtitle text here"
 *   primaryButtonText="Get started"
 *   secondaryButtonText="Learn more"
 * />
 *
 * NOTE: Background image will have a dark overlay for text readability.
 * ============================================================================
 */

import Image from '~/components/common/Image.astro';
import Button from '~/components/ui/Button.astro';
import { HEADLINE_CLASSES, SUBTITLE_CLASSES, TEXT_MUTED, IMAGE_OVERLAY } from '~/config/theme';
import type { ImageMetadata } from 'astro';

export const metadata = {
  name: 'Hero2',
  path: 'src/components/sections/Hero2.astro',
  description:
    'Full-width hero section with background image overlay, announcement pill, headline, subtitle, and dual CTA buttons. Same structure as Hero1 but with background image.',
};

export { SECTION_BACKGROUND as background } from '~/config/theme';

interface Props {
  /** Background image URL or ImageMetadata */
  backgroundImage?: string | ImageMetadata;
  /** Announcement text shown in pill at top */
  announcementText?: string;
  /** Announcement link URL */
  announcementLink?: string;
  /** Announcement link text (defaults to "Read more") */
  announcementLinkText?: string;
  /** Main headline text */
  headline: string;
  /** Subtitle/description text */
  subtitle: string;
  /** Primary CTA button text */
  primaryButtonText?: string;
  /** Primary CTA button URL */
  primaryButtonLink?: string;
  /** Secondary CTA button text */
  secondaryButtonText?: string;
  /** Secondary CTA button URL */
  secondaryButtonLink?: string;
}

// ============================================================================
// üìù EDITABLE CONTENT - Change your text, images, and links here
// ============================================================================
const defaultProps: Props = {
  // üí° BACKGROUND IMAGE
  backgroundImage: // URL or local image path (from /src/assets/)
    'https://images.unsplash.com/photo-1517048676732-d65bc937f952?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8bWVldGluZ3xlbnwwfHwwfHx8MA%3D%3D',

  // üí° ANNOUNCEMENT PILL (top badge)
  announcementText: 'Announcing our next round of funding.', // Main announcement text
  announcementLink: '#', // Where the announcement links to
  announcementLinkText: 'Read more', // Link text in announcement

  // üí° MAIN HEADLINE
  headline: 'Data to enrich your online business', // Large hero headline

  // üí° SUBTITLE/DESCRIPTION
  subtitle: // Subtitle text below headline
    'Anim qute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem cupidatat commodo. Elit sunt amet fugiat veniam occaecat.',

  // üí° PRIMARY BUTTON (left, filled)
  primaryButtonText: 'Get started', // Main CTA button text
  primaryButtonLink: '#', // Where primary button links to

  // üí° SECONDARY BUTTON (right, outline)
  secondaryButtonText: 'Learn more', // Secondary CTA button text
  secondaryButtonLink: '#', // Where secondary button links to
};

const {
  backgroundImage,
  announcementText,
  announcementLink = '#',
  announcementLinkText = 'Read more',
  headline,
  subtitle,
  primaryButtonText = 'Get started',
  primaryButtonLink = '#',
  secondaryButtonText = 'Learn more',
  secondaryButtonLink = '#',
} = { ...defaultProps, ...Astro.props };
---

<!-- ============================================================================
     üé® LAYOUT & STYLING - Edit classes below to customize appearance
     ============================================================================ -->

<!--
üí° SECTION WRAPPER
- min-h-screen: Makes section fill viewport height
- To change height: Replace with 'min-h-[600px]' or 'h-auto'
-->
<section class="relative w-full min-h-screen flex items-center justify-center overflow-hidden">

  <!-- ========================================
       üñºÔ∏è BACKGROUND IMAGE LAYER
       ======================================== -->
  <!--
  üí° BACKGROUND IMAGE
  - Positioned behind content (z-0)
  - Covers entire section (inset-0, object-cover)
  - Has dark overlay for text readability
  -->
  {backgroundImage && (
    <div class="absolute inset-0 z-0">
      <Image
        src={backgroundImage}
        alt=""
        width={2830}
        height={1600}
        widths={[640, 1024, 1920, 2830]}
        sizes="100vw"
        loading="eager"
        class="w-full h-full object-cover"
      />
      <!--
      üí° IMAGE OVERLAY
      - IMAGE_OVERLAY: Controlled in theme.ts (default: semi-transparent black)
      - Makes text readable on any background image
      - To adjust darkness: Edit IMAGE_OVERLAY in theme.ts
      -->
      <div class={`absolute inset-0 ${IMAGE_OVERLAY}`} aria-hidden="true"></div>
    </div>
  )}

  <!--
  üí° CONTENT CONTAINER
  - z-10: Stacks above background image
  - max-w-7xl: Maximum width of content
  - To change width: Replace with 'max-w-6xl' (smaller) or 'max-w-full' (wider)
  - py-20 sm:py-24 lg:py-32: Vertical padding (mobile ‚Üí desktop)
  -->
  <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 sm:py-24 lg:py-32">

    <!--
    üí° TEXT ALIGNMENT & SPACING
    - text-center: Centers all text
    - To left-align: Change to 'text-left'
    - space-y-8 sm:space-y-10: Vertical spacing between elements
    -->
    <div class="text-center space-y-8 sm:space-y-10">

      <!-- ========================================
           üì¢ ANNOUNCEMENT PILL
           ======================================== -->
      {announcementText && (
        <div class="flex justify-center animate-fade-in">
          <!-- üí° Pill styling defined in global.css as .announcement-pill -->
          <div class="announcement-pill">
            <span class="announcement-pill-text">
              {announcementText}
            </span>
            <a
              href={announcementLink}
              class="announcement-pill-link"
              aria-label={`${announcementLinkText} about ${announcementText}`}
            >
              {announcementLinkText}
              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </a>
          </div>
        </div>
      )}

      <!-- ========================================
           üì∞ HEADLINE
           ======================================== -->
      <!--
      üí° HEADLINE SIZING & WIDTH
      - HEADLINE_CLASSES: Controlled in theme.ts (change globally)
      - max-w-5xl: Maximum width of headline
      - To adjust width: Change to max-w-4xl (narrower) or max-w-6xl (wider)
      -->
      <h1 class={`${HEADLINE_CLASSES} max-w-5xl mx-auto px-4`}>
        {headline}
      </h1>

      <!-- ========================================
           üìù SUBTITLE
           ======================================== -->
      <!--
      üí° SUBTITLE SIZING & WIDTH
      - SUBTITLE_CLASSES & TEXT_MUTED: Controlled in theme.ts
      - max-w-3xl: Maximum width (narrower than headline for readability)
      -->
      <p class={`${SUBTITLE_CLASSES} ${TEXT_MUTED} max-w-3xl mx-auto px-4`}>
        {subtitle}
      </p>

      <!-- ========================================
           üîò CTA BUTTONS
           ======================================== -->
      <!--
      üí° BUTTON LAYOUT
      - flex-col sm:flex-row: Stacks on mobile, side-by-side on desktop
      - gap-4: Space between buttons
      -->
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4 pt-2 sm:pt-4">
        <!-- üí° PRIMARY BUTTON: Blue/Indigo filled button -->
        <Button variant="primary" href={primaryButtonLink} class="w-full sm:w-auto">
          {primaryButtonText}
        </Button>

        <!-- üí° SECONDARY BUTTON: Transparent outline button with arrow -->
        <Button variant="secondary" href={secondaryButtonLink} showArrow={true} class="w-full sm:w-auto">
          {secondaryButtonText}
        </Button>
      </div>

    </div>
  </div>
</section>
