---
import Image from '~/components/common/Image.astro';
import type { ImageMetadata } from 'astro';

interface Props {
  announcementText?: string;
  announcementLink?: string;
  announcementLinkText?: string;
  headline: string;
  subtitle: string;
  primaryButtonText?: string;
  primaryButtonLink?: string;
  secondaryButtonText?: string;
  secondaryButtonLink?: string;
  image: string | ImageMetadata;
}

const {
  announcementText = 'Anim qute id magna aliqua ad ad non deserunt sunt.',
  announcementLink = '#',
  announcementLinkText = 'Read more',
  headline,
  subtitle,
  primaryButtonText = 'Get started',
  primaryButtonLink = '#',
  secondaryButtonText = 'Learn more',
  secondaryButtonLink = '#',
  image,
} = Astro.props;
---

<section class="relative w-full min-h-screen overflow-hidden bg-slate-950 text-white">
  <!-- Right image panel (desktop) -->
  <div class="absolute inset-y-0 right-0 hidden lg:block lg:w-1/2">
    <Image
      src={image}
      alt="Workspace with laptop"
      class="h-full w-full object-cover"
      width={2102}
      height={1400}
      widths={[768, 1024, 1280, 1536, 1920]}
      sizes="(max-width: 1024px) 100vw, 50vw"
      loading="eager"
    />
  </div>

  <div class="relative z-10 max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-20 sm:py-24 lg:py-32">
    <div class="max-w-xl space-y-8">
      <div class="flex items-center gap-3 text-indigo-400">
        <svg class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M3 10.5c2.5 0 3.2-3 5.6-3 2.4 0 3.1 3 5.6 3 2.4 0 3.1-3 5.6-3v3c-2.4 0-3.1 3-5.6 3-2.4 0-3.1-3-5.6-3-2.4 0-3.1 3-5.6 3v-3z" />
        </svg>
        <span class="text-sm font-semibold uppercase tracking-wide">Astro</span>
      </div>

      {announcementText && (
        <div class="inline-flex items-center gap-2 rounded-full border border-slate-700/70 bg-slate-900/60 px-4 py-2 text-sm text-slate-300 backdrop-blur">
          <span>{announcementText}</span>
          <a
            href={announcementLink}
            class="inline-flex items-center gap-1 font-medium text-indigo-300 hover:text-indigo-200 transition-colors"
          >
            {announcementLinkText}
            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-4-4l4 4-4 4" />
            </svg>
          </a>
        </div>
      )}

      <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight">
        {headline}
      </h1>

      <p class="text-base sm:text-lg md:text-xl text-slate-400 leading-relaxed">
        {subtitle}
      </p>

      <div class="flex flex-col sm:flex-row items-center gap-4">
        <a
          href={primaryButtonLink}
          class="inline-flex items-center justify-center rounded-lg bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-lg shadow-indigo-500/40 hover:bg-indigo-500 transition-colors"
        >
          {primaryButtonText}
        </a>
        <a
          href={secondaryButtonLink}
          class="inline-flex items-center gap-2 text-base font-medium text-white hover:text-slate-300 transition-colors"
        >
          {secondaryButtonText}
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-4-4l4 4-4 4" />
          </svg>
        </a>
      </div>
    </div>

    <!-- Mobile image -->
    <div class="mt-12 lg:hidden">
      <Image
        src={image}
        alt="Workspace with laptop"
        class="h-64 w-full rounded-2xl object-cover"
        width={2102}
        height={1400}
        widths={[480, 768, 1024, 1280]}
        sizes="100vw"
        loading="lazy"
      />
    </div>
  </div>
</section>
